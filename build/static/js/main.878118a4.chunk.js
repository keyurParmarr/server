(this.webpackJsonpnews=this.webpackJsonpnews||[]).push([[0],{37:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(38),s=n.n(c),r=(n(48),n(49),n(10)),i=n(21),o=n(4),u=n(5),j=n(8),l=n(57),b=n(15),p=n.n(b),O=(n(50),n(9)),d=n(14),x=n(6),m=n(34),f=n(2),h=function(e){var t=e.all,n=e.index,a=e.deletetask,c=e.getsingletask,s=e.completetask;return Object(f.jsxs)("div",{className:t.completed?"task completed":"task",children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:n+1})," ",t.name]}),Object(f.jsxs)("div",{className:"task-icons",children:[Object(f.jsx)(m.a,{color:"green",onClick:function(){s(t)}}),Object(f.jsx)(m.b,{color:"purple",onClick:function(){c(t)}}),Object(f.jsx)(m.c,{color:"red",onClick:function(){a(t)}})]})]})},k=function(e){var t=e.createtask,n=e.name,a=e.inpval,c=e.updatetask,s=e.edittext;return Object(f.jsxs)("form",{className:"task-form",onSubmit:s?c:t,children:[Object(f.jsx)("input",{type:"text",placeholder:"Add a task",name:"name",value:n,onChange:a}),Object(f.jsx)("button",{type:"submit",children:s?"EDIT":"ADD"})]})},v=Object(a.createContext)({userdata:{},setUserdata:function(){},usertask:{},setUsertask:function(){}}),g=function(e){var t=Object(a.useState)({}),n=Object(x.a)(t,2),c=n[0],s=n[1],r=Object(a.useState)([]),i=Object(x.a)(r,2),o={userdata:c,setUserdata:s,usertask:i[0],setUsertask:i[1]};return Object(f.jsx)(v.Provider,{value:o,children:e.children})},w=function(){var e=Object(a.useState)({name:"",completed:!1}),t=Object(x.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)(!1),i=Object(x.a)(s,2),o=i[0],b=i[1],p=Object(a.useState)(""),m=Object(x.a)(p,2),g=m[0],w=m[1],C=Object(a.useState)(!1),y=Object(x.a)(C,2),S=y[0],U=y[1],E=n.name,T=Object(a.useContext)(v),P=T.userdata,D=T.usertask,F=T.setUsertask,I=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){var a,s,i;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==E){e.next=3;break}return e.abrupt("return",r.b.error("name can't be empty"));case 3:return e.prev=3,a=P.email,D.push(Object(d.a)({},n)),e.next=8,l.a.post("".concat(N,"/api/tasks"),{tasks:D,email:a});case 8:s=e.sent,i=s.data,F(i.tasks),r.b.success("Task added"),c({name:"",completed:!1}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0),r.b.error("error");case 19:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){var n,a,c,s;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=P.email,a=D.filter((function(e){return e._id!==t._id})),e.next=5,l.a.post("".concat(N,"/api/tasks/").concat(n),{newtasks:a});case 5:c=e.sent,s=c.data,F(s.tasks),r.b.warning("Task deleted"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),r.b.error("error"),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c({name:t.name,completed:!1}),b(!0),w(t._id);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){var a,s,i;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==E){e.next=3;break}return e.abrupt("return",r.b.error("input field can't be empty"));case 3:return e.prev=3,(a=n).id=g,e.next=8,l.a.put("".concat(N,"/api/tasks/").concat(P.email),a);case 8:s=e.sent,i=s.data,c(Object(d.a)(Object(d.a)({},n),{},{name:""})),b(!1),F(i.tasks),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(Object(u.a)().mark((function e(t){var n,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l.a.put("".concat(N,"/api/tasks/").concat(P.email),{id:t._id});case 3:n=e.sent,a=n.data,F(a.tasks),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e=D.filter((function(e){return!0===e.completed}));U(e)}),[D]),Object(f.jsxs)("div",{children:[Object(f.jsx)("h2",{className:"title",children:"Task Manager"}),Object(f.jsx)(k,{name:E,inpval:function(e){var t=e.target,a=t.name,s=t.value;c(Object(d.a)(Object(d.a)({},n),{},Object(O.a)({},a,s)))},createtask:I,edittext:o,updatetask:A}),D.length>0&&Object(f.jsxs)("div",{className:"--flex-between --pb",children:[Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Total Tasks:"})," ",D.length]}),Object(f.jsxs)("p",{children:[Object(f.jsx)("b",{children:"Completed Tasks:"})," ",S.length]})]}),Object(f.jsx)("hr",{}),Object(f.jsx)("div",{className:"--flex-center"}),0===D.length?Object(f.jsx)("p",{children:"NO task added"}):Object(f.jsx)(f.Fragment,{children:D.map((function(e,t){return Object(f.jsx)(h,{all:e,index:t,deletetask:L,getsingletask:_,completetask:G},t)}))})]})},N="http://18.182.53.70:4001",C=function(){var e=Object(a.useContext)(v),t=e.setUsertask,n=e.setUserdata,c=e.userdata,s=Object(o.l)();Object(a.useEffect)((function(){var e=p.a.get("token");function a(){return(a=Object(j.a)(Object(u.a)().mark((function a(){var c,i;return Object(u.a)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,l.a.post("".concat(N,"/tokenlogin"),{token:e});case 2:c=a.sent,(i=c.data).email?(n({email:i.email}),t(i.tasks)):(r.b.error("PLEASE LOGIN"),p.a.remove("token"),s("/"));case 5:case"end":return a.stop()}}),a)})))).apply(this,arguments)}e?c.email||function(){a.apply(this,arguments)}():s("/")}),[]);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"out-btn",onClick:function(){p.a.remove("token"),s("/")},children:"Sign Out"}),Object(f.jsx)("div",{className:"app",children:Object(f.jsx)("div",{className:"task-container",children:Object(f.jsx)(w,{})})})]})},y=(n(37),function(){var e=Object(o.l)(),t=Object(a.useContext)(v),n=t.setUserdata,c=t.setUsertask,s=Object(a.useState)({}),i=Object(x.a)(s,2),b=i[0],m=i[1],h=function(){var t=Object(j.a)(Object(u.a)().mark((function t(){var a,s;return Object(u.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l.a.post("".concat(N,"/login"),b);case 2:if(a=t.sent,!(s=a.data).msg){t.next=6;break}return t.abrupt("return",r.b.error(s.msg));case 6:p.a.set("token",s.token),r.b.success("logged in successfully"),n({email:s.email}),c(s.tasks),e("/app");case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(e){var t=e.target,n=t.name,a=t.value;m(Object(d.a)(Object(d.a)({},b),{},Object(O.a)({},n,a)))};return Object(a.useEffect)((function(){p.a.get("token")&&e("/app")}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"title",children:[Object(f.jsx)("h1",{children:"Task Manager"}),Object(f.jsx)("button",{className:"signupbtn",onClick:function(){return e("/signup")},children:"Sign Up"})]}),Object(f.jsx)("div",{className:"box",children:Object(f.jsxs)("div",{className:"login-box",children:[Object(f.jsx)("h1",{children:"LOGIN"}),Object(f.jsx)("label",{children:"Email"}),Object(f.jsx)("input",{type:"text",onChange:k,name:"email",autoComplete:"off"}),Object(f.jsx)("label",{children:"Password"}),Object(f.jsx)("input",{type:"password",onChange:k,name:"password"}),Object(f.jsx)("div",{className:"subbtn",children:Object(f.jsx)("button",{className:"login-btn",onClick:function(){h()},children:"Submit"})})]})})]})}),S=function(){var e=Object(o.l)(),t=Object(a.useContext)(v).setUserdata,n=Object(a.useState)({}),c=Object(x.a)(n,2),s=c[0],i=c[1],b=function(){var n=Object(j.a)(Object(u.a)().mark((function n(){var a,c;return Object(u.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,l.a.post("".concat(N,"/signup"),s);case 2:if(a=n.sent,!(c=a.data).msg){n.next=6;break}return n.abrupt("return",r.b.error(c.msg));case 6:p.a.set("token",c.token),r.b.success("signed up successfully"),t(c),e("/app");case 10:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),m=function(e){var t=e.target,n=t.name,a=t.value;i(Object(d.a)(Object(d.a)({},s),{},Object(O.a)({},n,a)))};return Object(a.useEffect)((function(){p.a.get("token")&&e("/app")}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"title",children:[Object(f.jsx)("h1",{children:"Task Manager"}),Object(f.jsx)("button",{className:"loginnavbtn",onClick:function(){return e("/")},children:"Login"})]}),Object(f.jsx)("div",{className:"box",children:Object(f.jsxs)("div",{className:"login-box",children:[Object(f.jsx)("h1",{children:"SIGNUP"}),Object(f.jsx)("label",{children:"Email"}),Object(f.jsx)("input",{type:"text",onChange:m,name:"email",autoComplete:"off"}),Object(f.jsx)("label",{children:"Password"}),Object(f.jsx)("input",{type:"password",onChange:m,name:"password"}),Object(f.jsx)("div",{className:"subbtn",children:Object(f.jsx)("button",{className:"login-btn",onClick:function(){b()},children:"Submit"})})]})})]})},U=function(){return Object(f.jsx)(i.a,{children:Object(f.jsxs)(o.c,{children:[Object(f.jsx)(o.a,{path:"/",element:Object(f.jsx)(y,{})}),Object(f.jsx)(o.a,{path:"/signup",element:Object(f.jsx)(S,{})}),Object(f.jsx)(o.a,{path:"/app",element:Object(f.jsx)(C,{})})]})})};s.a.createRoot(document.getElementById("root")).render(Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(g,{children:Object(f.jsx)(U,{})}),Object(f.jsx)(r.a,{position:"top-center",autoClose:2e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,theme:"colored",bodyClassName:"grow-font-size"})]}))}},[[56,1,2]]]);
//# sourceMappingURL=main.878118a4.chunk.js.map